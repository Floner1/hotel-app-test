# Hotel Booking Web App - Project Structure Guide

## ğŸ“ Directory Overview

```
hotel-app-test/
â”œâ”€â”€ site1/                      # Main Django project directory
â”‚   â”œâ”€â”€ manage.py              # Django management script (use this to run commands)
â”‚   â”œâ”€â”€ db.sqlite3             # SQLite database file (backup - not currently used)
â”‚   â”œâ”€â”€ .env                   # Environment variables (database config, secrets)
â”‚   â”‚
â”‚   â”œâ”€â”€ site1/                 # Django project configuration
â”‚   â”‚   â”œâ”€â”€ settings.py        # Main settings (database, apps, middleware)
â”‚   â”‚   â”œâ”€â”€ urls.py            # Main URL routing
â”‚   â”‚   â”œâ”€â”€ wsgi.py            # WSGI config for deployment
â”‚   â”‚   â””â”€â”€ asgi.py            # ASGI config for async
â”‚   â”‚
â”‚   â”œâ”€â”€ home/                  # Main Django app (views, URLs)
â”‚   â”‚   â”œâ”€â”€ views.py           # View functions (home, rooms, reservation, etc.)
â”‚   â”‚   â”œâ”€â”€ urls.py            # URL patterns for the app
â”‚   â”‚   â”œâ”€â”€ admin.py           # Admin configuration
â”‚   â”‚   â”œâ”€â”€ apps.py            # App configuration
â”‚   â”‚   â””â”€â”€ migrations/        # Database migrations (old - from before separation)
â”‚   â”‚
â”‚   â”œâ”€â”€ backend/               # Business logic layer
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ services.py    # HotelService, ReservationService
â”‚   â”‚   â””â”€â”€ admin/
â”‚   â”‚       â””â”€â”€ admin.py       # Admin customization
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                  # Data layer (models, repositories)
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ hotel.py       # Hotel, RoomPrice, HotelService, CustomerBookingInfo models
â”‚   â”‚   â”‚   â””â”€â”€ images.py      # Image models (if needed)
â”‚   â”‚   â”œâ”€â”€ repos/
â”‚   â”‚   â”‚   â””â”€â”€ repositories.py # HotelRepository, ReservationRepository
â”‚   â”‚   â””â”€â”€ migrations/        # Database migrations (current - in use)
â”‚   â”‚
â”‚   â”œâ”€â”€ templates/             # HTML templates
â”‚   â”‚   â”œâ”€â”€ home.html          # Homepage
â”‚   â”‚   â”œâ”€â”€ rooms.html         # Rooms listing page
â”‚   â”‚   â”œâ”€â”€ reservation.html   # Reservation form
â”‚   â”‚   â”œâ”€â”€ about.html         # About page
â”‚   â”‚   â”œâ”€â”€ contact.html       # Contact page
â”‚   â”‚   â””â”€â”€ admin_reservations.html # Admin view
â”‚   â”‚
â”‚   â”œâ”€â”€ static/                # Static files (CSS, JS, images)
â”‚   â”‚   â”œâ”€â”€ css/               # Stylesheets
â”‚   â”‚   â”œâ”€â”€ js/                # JavaScript files
â”‚   â”‚   â”œâ”€â”€ images/            # Images
â”‚   â”‚   â””â”€â”€ fonts/             # Web fonts
â”‚   â”‚
â”‚   â”œâ”€â”€ staticfiles/           # Collected static files (auto-generated by Django)
â”‚   â”‚   â””â”€â”€ (mirror of static/) # Don't edit these directly!
â”‚   â”‚
â”‚   â””â”€â”€ check_rooms.py         # Utility script to check room data
â”‚
â”œâ”€â”€ data/                      # Root-level data folder (can be removed - duplicate)
â””â”€â”€ schema_dump.py             # Database schema export utility
```

## ğŸ¯ Key Files to Know

### Where to Edit Content

| What You Want to Change | File to Edit |
|------------------------|--------------|
| Homepage layout | `templates/home.html` |
| Rooms page layout | `templates/rooms.html` |
| Reservation form | `templates/reservation.html` |
| Website colors/styles | `static/css/style.css` or `static/css/_custom.css` |
| Navigation menu | All template files (header section) |
| Add new page | Create in `templates/`, add route in `home/urls.py`, add view in `home/views.py` |

### Where Business Logic Lives

| Feature | File Location |
|---------|--------------|
| Hotel information retrieval | `backend/services/services.py` â†’ `HotelService` |
| Reservation creation | `backend/services/services.py` â†’ `ReservationService` |
| Database queries | `data/repos/repositories.py` |
| Database models | `data/models/hotel.py` |
| View functions (what user sees) | `home/views.py` |

### Configuration Files

| File | Purpose |
|------|---------|
| `site1/settings.py` | Django settings (database, apps, static files) |
| `home/urls.py` | URL routing (which URL goes to which page) |
| `.env` | Secret keys and environment variables |

## ğŸš€ Common Commands

Run these from the `site1/` directory:

```bash
# Start the development server
python manage.py runserver

# Create database migrations (after model changes)
python manage.py makemigrations

# Apply database migrations
python manage.py migrate

# Create admin user
python manage.py createsuperuser

# Collect static files (before deployment)
python manage.py collectstatic

# Access Django shell
python manage.py shell
```

## ğŸ“Š Database Structure

**Current Database:** SQL Server (`hotelbooking` database on `MSSQLSERVER01`)

**Main Tables:**
- `hotel` - Hotel information
- `room_price` - Room types and pricing
- `hotel_service` - Hotel services offered
- `customer_booking_info` - Reservations

## ğŸ”„ How Data Flows

1. **User Request** â†’ Django receives URL request
2. **URL Routing** (`home/urls.py`) â†’ Matches URL to view function
3. **View** (`home/views.py`) â†’ Calls service layer
4. **Service** (`backend/services/services.py`) â†’ Business logic
5. **Repository** (`data/repos/repositories.py`) â†’ Database queries
6. **Model** (`data/models/hotel.py`) â†’ Database tables
7. **Template** (`templates/*.html`) â†’ HTML rendered and returned to user

## ğŸ¨ Three-Layer Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PRESENTATION LAYER (templates/)    â”‚  â† What users see
â”‚  - HTML templates                    â”‚
â”‚  - Static files (CSS, JS)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  APPLICATION LAYER (backend/)       â”‚  â† Business rules
â”‚  - Services (HotelService, etc.)    â”‚
â”‚  - Views (home/views.py)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DATA LAYER (data/)                 â”‚  â† Database operations
â”‚  - Models (database tables)         â”‚
â”‚  - Repositories (queries)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ Important Notes

1. **Don't edit `staticfiles/`** - This folder is auto-generated. Edit files in `static/` instead.

2. **Database Migrations** - The `data/migrations/` folder is active. The `home/migrations/` folder is old and kept for reference.

3. **Root `data/` folder** - There's a duplicate `data/` folder at the root level that can be safely removed (it's not used).

4. **Working Directory** - Always run Django commands from the `site1/` directory where `manage.py` is located.

5. **SQL Server Connection** - The app connects to SQL Server using Windows Authentication. Make sure the database server is running.

## ğŸ› Troubleshooting

**Problem:** "Module not found" errors
**Solution:** Make sure you're in the `site1/` directory and your Python environment is activated

**Problem:** Static files not loading
**Solution:** Run `python manage.py collectstatic`

**Problem:** Database connection errors
**Solution:** Check that SQL Server is running and the connection string in `settings.py` is correct

**Problem:** Template not found
**Solution:** Templates must be in the `site1/templates/` directory

## ğŸ“š Next Steps

1. Remove the duplicate root-level `data/` folder
2. Consider renaming `site1/` to something more descriptive like `hotel_project/`
3. Add a virtual environment (`venv/`) for Python dependencies
4. Create a `requirements.txt` file for dependencies
