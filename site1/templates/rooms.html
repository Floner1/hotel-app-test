<!DOCTYPE HTML>
<html>
  <head>
    {% load static %}
    {% load humanize %}
    <!-- Meta tags for character encoding and responsive design -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>{{ hotel.hotel_name }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    
    <!-- Google Fonts -->
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=|Roboto+Sans:400,700|Playfair+Display:400,700">

    <!-- Load Django static files -->
    {% load static %}
    
    <!-- CSS Dependencies -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/animate.css' %}">
    <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/aos.css' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap-datepicker.css' %}">
    <link rel="stylesheet" href="{% static 'css/jquery.timepicker.css' %}">
    <link rel="stylesheet" href="{% static 'css/fancybox.min.css' %}">
    
    <!-- Icon Fonts -->
    <link rel="stylesheet" href="{% static 'fonts/ionicons/css/ionicons.min.css' %}">
    <link rel="stylesheet" href="{% static 'fonts/fontawesome/css/font-awesome.min.css' %}">

    <!-- Main Theme Style -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    
    <!-- Custom Styles for Better Formatting -->
    <style>
      /* Room Cards Styling */
      .room-info h2 {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: #333;
      }
      
      .room-info span {
        color: #f8b739;
        font-size: 0.875rem;
        font-weight: 600;
        letter-spacing: 2px;
      }
      
      /* Services Section Styling */
      .service {
        padding: 2rem 1rem;
        transition: transform 0.3s ease;
        height: 100%;
      }
      
      .service:hover {
        transform: translateY(-5px);
      }
      
      .service .icon {
        color: #f8b739;
      }
      
      /* Services row spacing - spread items evenly */
      .section .row {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-around;
        align-items: stretch;
      }
      
      /* Toast Notification Styles */
      .toast-notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: #28a745;
        color: white;
        padding: 15px 25px;
        border-radius: 5px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 9999;
        display: none;
        animation: slideInRight 0.4s ease-out;
      }
      
      .toast-notification.show {
        display: block;
      }
      
      .toast-notification.error {
        background-color: #dc3545;
      }
      
      .toast-notification .toast-icon {
        margin-right: 10px;
        font-size: 18px;
      }
      
      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
    </style>
  </head>
  <body>
    <!-- Toast Notification -->
    <div id="toast-notification" class="toast-notification">
      <span class="toast-icon">✓</span>
      <span class="toast-message"></span>
    </div>
    
    <header class="site-header js-site-header">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="col-6 col-lg-4 site-logo" data-aos="fade"><a href="{% url 'home' %}">{{ hotel.hotel_name }}</a></div>
          <div class="col-6 col-lg-8">


            <div class="site-menu-toggle js-site-menu-toggle"  data-aos="fade">
              <span></span>
              <span></span>
              <span></span>
            </div>
            <!-- END menu-toggle -->

            <div class="site-navbar js-site-navbar">
              <nav role="navigation">
                <div class="container">
                  <div class="row full-height align-items-center">
                    <div class="col-md-6 mx-auto">
                      <ul class="list-unstyled menu">
                        <li><a href="{% url 'home' %}">Home</a></li>
                        <li class="active"><a href="{% url 'rooms' %}">Rooms</a></li>
                        <li><a href="{% url 'about' %}">About</a></li>
                        <li><a href="{% url 'contact' %}">Contact</a></li>
                        <li><a href="{% url 'reservation' %}">Reservation</a></li>
                        {% if user.is_authenticated %}
                          {% if user.is_staff or user.is_superuser %}
                            <li><a href="{% url 'admin_reservations' %}">Dashboard</a></li>
                          {% endif %}
                          <li><a href="{% url 'logout' %}">Logout ({{ user.username }})</a></li>
                        {% else %}
                          <li><a href="{% url 'login' %}">Staff Login</a></li>
                        {% endif %}
                      </ul>
                    </div>
                  </div>
                </div>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </header>
    <!-- END head -->

    <section class="site-hero inner-page overlay" style="background-image: url({% static 'images/hero_4.jpg' %})" data-stellar-background-ratio="0.5">
      <div class="container">
        <div class="row site-hero-inner justify-content-center align-items-center">
          <div class="col-md-10 text-center" data-aos="fade">
            <h1 class="heading mb-3">Rooms</h1>
            <ul class="custom-breadcrumbs mb-4">
              <li><a href="{% url 'home' %}">Home</a></li>
              <li>&bullet;</li>
              <li>Rooms</li>
            </ul>
          </div>
        </div>
      </div>

      <a class="mouse smoothscroll" href="#next">
        <div class="mouse-icon">
          <span class="mouse-wheel"></span>
        </div>
      </a>
    </section>
    <!-- END section -->

    <section class="section pb-4">
      <div class="container">
       
        <div class="row check-availabilty" id="next">
          <div class="block-32" data-aos="fade-up" data-aos-offset="-200">

            <form action="#">
              <div class="row">
                <div class="col-md-6 mb-3 mb-lg-0 col-lg-3">
                  <label for="checkin_date" class="font-weight-bold text-black">Check In</label>
                  <div class="field-icon-wrap">
                    <div class="icon"><span class="icon-calendar"></span></div>
                    <input type="text" id="checkin_date" class="form-control">
                  </div>
                </div>
                <div class="col-md-6 mb-3 mb-lg-0 col-lg-3">
                  <label for="checkout_date" class="font-weight-bold text-black">Check Out</label>
                  <div class="field-icon-wrap">
                    <div class="icon"><span class="icon-calendar"></span></div>
                    <input type="text" id="checkout_date" class="form-control">
                  </div>
                </div>
                <div class="col-md-6 mb-3 mb-md-0 col-lg-3">
                  <div class="row">
                    <div class="col-md-6 mb-3 mb-md-0">
                      <label for="adults" class="font-weight-bold text-black">Adults</label>
                      <div class="field-icon-wrap">
                        <div class="icon"><span class="ion-ios-arrow-down"></span></div>
                        <select name="" id="adults" class="form-control">
                          <option value="">1</option>
                          <option value="">2</option>
                          <option value="">3</option>
                          <option value="">4+</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-md-6 mb-3 mb-md-0">
                      <label for="children" class="font-weight-bold text-black">Children</label>
                      <div class="field-icon-wrap">
                        <div class="icon"><span class="ion-ios-arrow-down"></span></div>
                        <select name="" id="children" class="form-control">
                          <option value="">1</option>
                          <option value="">2</option>
                          <option value="">3</option>
                          <option value="">4+</option>
                        </select>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 col-lg-3 align-self-end">
                  <button class="btn btn-primary btn-block text-white">Check Availabilty</button>
                </div>
              </div>
            </form>
          </div>


        </div>
      </div>
    </section>

    
    <section class="section">
      <div class="container">
        <!-- Section Header -->
        <div class="row justify-content-center text-center mb-5">
          <div class="col-md-7">
            <h2 class="heading" data-aos="fade-up">Rooms &amp; Suites</h2>
            <p data-aos="fade-up" data-aos-delay="100">Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean.</p>
          </div>
        </div>
        
        <!-- Room Cards Grid -->
        <div class="row justify-content-center">
          {% for room in room_types %}
          <div class="col-md-6 col-lg-4" data-aos="fade-up">
            <a href="#" class="room">
              <figure class="img-wrap">
                <img src="{% static 'images/img_' %}{{ forloop.counter }}.jpg" alt="{{ room.display }}" class="img-fluid mb-3">
              </figure>
              <div class="p-3 text-center room-info">
                <h2 style="white-space: nowrap;">{{ room.display }}</h2>
                <span class="text-uppercase letter-spacing-1">₫{{ room.price|floatformat:0|intcomma }} / PER NIGHT</span>
              </div>
            </a>
          </div>
          {% endfor %}
        </div>
      </div>
    </section>
    
    <section class="section bg-light">

      <div class="container">
        <div class="row justify-content-center text-center mb-5">
          <div class="col-md-7">
            <h2 class="heading" data-aos="fade">Great Offers</h2>
            <p data-aos="fade">Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean.</p>
          </div>
        </div>
      
        {% for room in room_types|slice:":2" %}
        <div class="site-block-half d-block d-lg-flex bg-white" data-aos="fade" data-aos-delay="{{ forloop.counter }}00">
          <a href="#" class="image d-block bg-image-2 {% if forloop.counter == 2 %}order-2{% endif %}" style="background-image: url('{% static 'images/img_' %}{{ forloop.counter }}.jpg');"></a>
          <div class="text {% if forloop.counter == 2 %}order-1{% endif %}">
            <span class="d-block mb-4"><span class="display-4 text-primary">₫{{ room.price|floatformat:0|intcomma }}</span> <span class="text-uppercase letter-spacing-2">/ PER NIGHT</span> </span>
            <h2 class="mb-4">{{ room.display }}</h2>
            <p>{{ room.description|default:"Experience comfort and luxury in this beautifully appointed room, designed to make your stay memorable." }}</p>
            <p><a href="{% url 'reservation' %}" class="btn btn-primary text-white">Book Now</a></p>
          </div>
        </div>
        {% endfor %}

      </div>
    </section>

        </section>

    <section class="section bg-light">
      <div class="container">
        <div class="row justify-content-center text-center mb-5">
          <div class="col-md-7">
            <h2 class="heading" data-aos="fade-up">Our Premium Services</h2>
            <p data-aos="fade-up" data-aos-delay="100">Enhance your stay with our premium services designed for your comfort and convenience.</p>
          </div>
        </div>

        <div class="row justify-content-center">
          {% for service in hotel_services %}
          <div class="col-md-6 col-lg-4 mb-4" data-aos="fade-up" {% if forloop.counter0 > 0 %}data-aos-delay="{{ forloop.counter0 }}00"{% endif %}>
            <div class="service text-center">
              <span class="icon d-block mb-3">
                <span class="flaticon-{% if 'Motorbike' in service.name_of_service %}motorcycle{% elif 'Laundry' in service.name_of_service %}laundry{% elif 'Restaurant' in service.name_of_service %}restaurant{% else %}room-service{% endif %} display-4"></span>
              </span>
              <h3 class="mb-3">{{ service.name_of_service }}</h3>
              <p>{{ service.service_description }}</p>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </section>

    <section class="section bg-image overlay" style="background-image: url('{% static 'images/hero_4.jpg' %}');">
      <div class="container" >
        <div class="row align-items-center">
          <div class="col-12 col-md-6 text-center mb-4 mb-md-0 text-md-left" data-aos="fade-up">
            <h2 class="text-white font-weight-bold">A Best Place To Stay. Reserve Now!</h2>
          </div>
          <div class="col-12 col-md-6 text-center text-md-right" data-aos="fade-up" data-aos-delay="200">
            <a href="{% url 'reservation' %}" class="btn btn-outline-white-primary py-3 text-white px-5">Reserve Now</a>
          </div>
        </div>
      </div>
    </section>
    
    <footer class="section footer-section">
      <div class="container">
        <div class="row mb-4">
          <div class="col-md-3 mb-5">
            <ul class="list-unstyled link">
              <li><a href="{% url 'about' %}">About Us</a></li>
              <li><a href="{% url 'home' %}">Terms &amp; Conditions</a></li>
              <li><a href="{% url 'home' %}">Privacy Policy</a></li>
              <li><a href="{% url 'rooms' %}">Rooms</a></li>
            </ul>
          </div>
          <div class="col-md-3 mb-5">
            <ul class="list-unstyled link">
              <li><a href="{% url 'rooms' %}">The Rooms &amp; Suites</a></li>
              <li><a href="{% url 'about' %}">About Us</a></li>
              <li><a href="{% url 'contact' %}">Contact Us</a></li>
              <li><a href="{% url 'home' %}">Restaurant</a></li>
            </ul>
          </div>
          <div class="col-md-3 mb-5 pr-md-5 contact-info">
            <p><span class="d-block"><span class="ion-ios-location h5 text-primary"></span>Address:</span> <span> {{ hotel.hotel_address }}</span></p>
            <p><span class="d-block"><span class="ion-ios-telephone h5 text-primary"></span>Phone:</span> <span> {{ hotel.phone }}</span></p>
            <p><span class="d-block"><span class="ion-ios-email h5 text-primary"></span>Email:</span> <span> {{ hotel.email }}</span></p>
         </div>
          <div class="col-md-3 mb-5">
            <p>Sign up for our newsletter</p>
            <form id="newsletter-form" class="footer-newsletter">
              <div class="form-group">
                <input type="email" class="form-control" name="email" placeholder="Email..." required>
                <button type="submit" class="btn"><span class="fa fa-paper-plane"></span></button>
              </div>
            </form>
          </div>
        </div>
        <div class="row pt-5">
          <p class="col-md-6 text-left">
          </p>
            
          <p class="col-md-6 text-right social">
            <a href="#"><span class="fa fa-tripadvisor"></span></a>
            <a href="#"><span class="fa fa-facebook"></span></a>
            <a href="#"><span class="fa fa-twitter"></span></a>
            <a href="#"><span class="fa fa-linkedin"></span></a>
            <a href="#"><span class="fa fa-vimeo"></span></a>
          </p>
        </div>
      </div>
    </footer>
    
    <script src="{% static 'js/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'js/jquery-migrate-3.0.1.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'js/jquery.stellar.min.js' %}"></script>
    <script src="{% static 'js/jquery.fancybox.min.js' %}"></script>
    
    <script src="{% static 'js/aos.js' %}"></script>
    
    <script src="{% static 'js/bootstrap-datepicker.js' %}"></script> 
    <script src="{% static 'js/jquery.timepicker.min.js' %}"></script> 

    <script src="{% static 'js/main.js' %}"></script>

    <script>
      // Toast notification function
      function showToast(message, isError = false) {
        var toast = $('#toast-notification');
        toast.find('.toast-message').text(message);
        
        if (isError) {
          toast.addClass('error');
          toast.find('.toast-icon').text('✗');
        } else {
          toast.removeClass('error');
          toast.find('.toast-icon').text('✓');
        }
        
        toast.addClass('show');
        
        setTimeout(function() {
          toast.removeClass('show');
        }, 3000);
      }
      
      // Check for Django messages and display as toast
      {% if messages %}
        {% for message in messages %}
          showToast('{{ message }}', {% if 'error' in message.tags %}true{% else %}false{% endif %});
        {% endfor %}
      {% endif %}
      
      $(document).ready(function() {
        $('#newsletter-form').on('submit', function(e) {
          e.preventDefault();
          
          var form = $(this);
          var submitButton = form.find('button[type="submit"]');
          var email = form.find('input[name="email"]').val();
          
          // Disable the submit button
          submitButton.prop('disabled', true);
          
          $.ajax({
            url: '{% url "newsletter_signup" %}',
            type: 'POST',
            data: {
              'email': email,
              'csrfmiddlewaretoken': '{{ csrf_token }}'
            },
            complete: function() {
              // Clear the form and re-enable the submit button
              form.find('input[name="email"]').val('');
              submitButton.prop('disabled', false);
            }
          });
        });
      });
    </script>
  </body>
</html>